{% extends "tehreer/layout.html" %}
{% load static %}

{% block head %}
<script defer type="module" src="{% static 'tehreer/scripts/logged_in.js' %}"></script>
<script defer type="module" src="{% static 'tehreer/scripts/home.js' %}"></script>

<link rel="stylesheet" href="{% static 'tehreer/styles/home.css' %}">


{% endblock %}


{% block main %}

<div class="home_view">

    <div class="articles">
        {% for i in "1234" %}
        {% for article in articles %}
        {% for i in "12" %}
        <div class="article-preview rounded" data-id="{{ article.id }}">

            <h4 class="title"> {{ article.title }} </h4>
            <div class="author"> {{ article.author.first_name }} {{ article.author.last_name }} </div>
            <div class="content"> {{ article.content.html|slice:":150" }} </div>
            <div class="likes"> {{ article.likers|length }} </div>
            <div class="topics">
                <a class="rounded">Programming</a>
                <a class="rounded">Github</a>
                <a class="rounded">AI</a>
                <a class="rounded">Github Copilot</a>
                <a class="rounded">GenAI</a>
            </div>
        </div>
        {% endfor %}
        {% endfor %}
        {% endfor %}
    </div>

    <div class="explore">
        <h3> Explore </h3>
        <br>

        <h4> Top Topics </h4>
        <div class="topics">
            <a class="rounded">Programming</a>
            <a class="rounded">Github</a>
            <a class="rounded">AI</a>
            <a class="rounded">Github Copilot</a>
            <a class="rounded">GenAI</a>
        </div>
        <br>

        <h4>Trending Writers</h4>
        <div class="trending-writers">
            {% for i in "12345" %}
            <div class="trending-writer rounded">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person"
                    viewBox="0 0 16 16">
                    <path
                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                </svg>
                <span> {{ request.user.first_name }} {{ request.user.last_name }} </span>
                <span> {{ request.user.followings | length }} Followers </span>
            </div>
            {% endfor %}
        </div>
    </div>

</div>


<div class="article_view">
    <aside id="article-left" style="display: none;">
        <div id="article-title">
            <h1> </h1>
        </div>

        <div id="article-author">
            <div id="author-image">
            </div>
            <div>
                <div id="author-name">
                    Written By <a href="#">Sohaib Abbasi </a>
                </div>
                <div id="article-date"> January 10 2024 </div>
            </div>
        </div>


        <div id="article-topics">
            <a href="#">Programming</a>
            <a href="#">Github</a>
            <a href="#">AI</a>
            <a href="#">Github Copilot</a>
            <a href="#">GenAI</a>
        </div>


    </aside>


    <article style="display: none;">
    </article>

    <!-- likes and comments -->
    <aside id="article-right" style="display: none;">
        <div id="article-likes">
            <button id="like-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star"
                    viewBox="0 0 16 16">
                    <path
                        d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z" />
                </svg>
            </button>
            <span> 15 </span>
        </div>


        <div id="article-comments">
            <button id="comment-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat"
                    viewBox="0 0 16 16">
                    <path
                        d="M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105" />
                </svg>
            </button>
            <span> 4 </span>

            <form id="comment-form">
                <input type="text" placeholder="Add a comment">
                <button type="submit"> Comment </button>
            </form>

            <div id="comments">

                {% for i in "123123123" %}
                <div class="comment">
                    <div class="comment-author">
                        <div id="author-image">
                            <img src="https://miro.medium.com/v2/resize:fill:88:88/1*ZTU6cfaLOh0J3DpCALyYNA.jpeg">
                        </div>
                        <div>
                            <div id="author-name">
                                <a href="#">Sohaib Abbasi </a>
                            </div>
                            <div id="article-date"> January 10 2024 </div>
                        </div>
                    </div>

                    <div class="comment-content">
                        <p> This is a comment. </p>
                    </div>

                </div>
                {% endfor %}
            </div>
        </div>
    </aside>
</div>

{% endblock %}